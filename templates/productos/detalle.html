{% extends "base.html" %}
{% block title %}Detalle de Producto{% endblock %}

{% block content %}
<div class="card mb-4 shadow-sm">
    <div class="card-header bg-success text-white">
        <h4 class="mb-0">ðŸ§ª Detalle del Producto</h4>
    </div>
    <div class="card-body">
        <p><strong>CÃ³digo de Barras:</strong> {{ producto.codigo_barras }}</p>
        <p><strong>Nombre:</strong> {{ producto.nombre }}</p>
        <p><strong>DescripciÃ³n:</strong> {{ producto.descripcion }}</p>
        <p><strong>Precio Unitario:</strong> {{ producto.precio_unitario }} Bs</p>
        <p><strong>IVA:</strong> {{ producto.iva }}%</p>
        <p><strong>Stock Total:</strong> {{ producto.stock }}</p>
        <p><strong>Fecha de Vencimiento:</strong> {{ producto.fecha_vencimiento|date:"d/m/Y" }}</p>
        <p><strong>Proveedor:</strong> {{ producto.proveedor.nombre }}</p>
        <p><strong>Estado:</strong>
            {% if producto.estado %}
                <span class="badge bg-success">Activo</span>
            {% else %}
                <span class="badge bg-secondary">Inactivo</span>
            {% endif %}
        </p>
    </div>
</div>

{% if sustitutos %}
<div class="card shadow-sm">
    <div class="card-header bg-warning text-dark">
        <h5 class="mb-0">ðŸ”„ Productos Sustitutos</h5>
    </div>
    <ul class="list-group list-group-flush">
        {% for s in sustitutos %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ s.nombre }} â€” {{ s.precio_unitario }} Bs</span>
            <a href="{% url 'productos:detalle' s.codigo_barras %}" class="btn btn-outline-primary btn-sm">Ver</a>
        </li>
        {% endfor %}
    </ul>
</div>
{% else %}
<div class="alert alert-info mt-3">No se encontraron sustitutos para este producto.</div>
{% endif %}
{% endblock %}
